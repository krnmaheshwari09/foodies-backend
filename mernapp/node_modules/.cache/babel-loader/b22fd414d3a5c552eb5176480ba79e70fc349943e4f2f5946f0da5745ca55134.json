{"ast":null,"code":"import React from\"react\";import{useCart,useDispatchCart}from\"../components/ContextReducer\";import trash from\"./trash.svg\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){let data=useCart();let dispatch=useDispatchCart();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-center fs-3\",children:\"The Cart is Empty!\"})});}const handleCheckOut=async()=>{let userEmail=localStorage.getItem(\"userEmail\");try{let response=await axios.post(`${window.location.origin}/api/orderData`,{order_data:data,email:userEmail,order_date:new Date().toDateString()});if(response&&response.status===200){await dispatch({type:\"DROP\"});}}catch(error){alert(\"Something went wrong.\");}};let totalPrice=data.reduce((total,food)=>total+food.price,0);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" text-success fs-4\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((food,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:food.name}),/*#__PURE__*/_jsx(\"td\",{children:food.qty}),/*#__PURE__*/_jsx(\"td\",{children:food.size}),/*#__PURE__*/_jsx(\"td\",{children:food.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn p-0\",children:/*#__PURE__*/_jsx(\"img\",{src:trash,alt:\"delete\",onClick:()=>dispatch({type:\"REMOVE\",index:index})})})})]},index))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-success mt-5 \",onClick:handleCheckOut,children:\"Check Out\"})})]})});}","map":{"version":3,"names":["React","useCart","useDispatchCart","trash","axios","jsx","_jsx","jsxs","_jsxs","Cart","data","dispatch","length","children","className","handleCheckOut","userEmail","localStorage","getItem","response","post","window","location","origin","order_data","email","order_date","Date","toDateString","status","type","error","alert","totalPrice","reduce","total","food","price","scope","map","index","name","qty","size","src","alt","onClick"],"sources":["D:/Projects/food_delivery_app/mernapp/src/pages/Cart.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useCart, useDispatchCart } from \"../components/ContextReducer\";\r\nimport trash from \"./trash.svg\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Cart() {\r\n  let data = useCart();\r\n  let dispatch = useDispatchCart();\r\n  if (data.length === 0) {\r\n    return (\r\n      <div>\r\n        <div className=\"m-5 w-100 text-center fs-3\">The Cart is Empty!</div>\r\n      </div>\r\n    );\r\n  }\r\n  const handleCheckOut = async() => {\r\n    let userEmail = localStorage.getItem(\"userEmail\");\r\n    try{\r\n      let response = await axios.post(`${window.location.origin}/api/orderData`, {\r\n        order_data: data,\r\n        email: userEmail,\r\n        order_date: new Date().toDateString()\r\n      })\r\n      if(response && response.status === 200){\r\n        await dispatch({type: \"DROP\"})\r\n      }\r\n    }catch(error){\r\n      alert(\"Something went wrong.\")\r\n    }\r\n  }\r\n  let totalPrice = data.reduce((total, food) => total + food.price, 0);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md\">\r\n        <table className=\"table table-hover \">\r\n          <thead className=\" text-success fs-4\">\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Quantity</th>\r\n              <th scope=\"col\">Option</th>\r\n              <th scope=\"col\">Amount</th>\r\n              <th scope=\"col\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((food, index) => (\r\n              <tr key={index}>\r\n                <th scope='row' >{index + 1}</th>\r\n                <td >{food.name}</td>\r\n                <td>{food.qty}</td>\r\n                <td>{food.size}</td>\r\n                <td>{food.price}</td>\r\n                <td >\r\n                    <button type=\"button\" className=\"btn p-0\">\r\n                        <img src={trash} alt=\"delete\" onClick={() => dispatch({type: \"REMOVE\", index: index})}/>\r\n                    </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <div><h1 className='fs-2'>Total Price: {totalPrice}/-</h1></div>\r\n        <div>\r\n          <button className=\"btn bg-success mt-5 \" onClick={handleCheckOut}>\r\n            Check Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}